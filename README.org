* Pic midrange code
Helper functions for
- waiting
- LCD connection (HW setup inside)
- eeprom access

and demo for LCD printing 
* Conventions
- INDF can be used by any procedure to store local data, but it is
  responsible for its callees to be able to do so as well.
- W is used for parameters passing, usually (what else?)
* GPsim needs to create eeprom file
#+BEGIN_SRC lisp
  (loop
   with res = (make-array 256 :element-type '(unsigned-byte 8) :fill-pointer 0)
   for use in '#1=(t nil . #1#)
  for val across
		(make-array 256
			    :displaced-to (intel-hex:read-hex-from-file 128000 "~/src/bastleni/lcd-in-pic/demo/lcdn.hex")
			    :displaced-index-offset #x4200 :element-type '(unsigned-byte 8))
	when use do (vector-push-extend val res)
	  finally 
	  (intel-hex:write-hex-to-file res  "~/src/bastleni/lcd-in-pic/demo/mem.hex"
             :if-exists :supersede))
#+END_SRC

#+RESULTS:
: NIL
